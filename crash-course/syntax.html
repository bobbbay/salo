<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Syntax - The Salo book</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A comprehensive guide to the Salo language.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../favicon.svg">
                        <link rel="shortcut icon" href="../favicon.png">
                <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
                <link rel="stylesheet" href="../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../crash-course/index.html"><strong aria-hidden="true">2.</strong> A crash course</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../crash-course/install.html"><strong aria-hidden="true">2.1.</strong> Install</a></li><li class="chapter-item expanded "><a href="../crash-course/syntax.html" class="active"><strong aria-hidden="true">2.2.</strong> Syntax</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Backend cookbook</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Advanced Features</div></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">The Salo book</h1>

                    <div class="right-buttons">
                                                <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="syntax"><a class="header" href="#syntax">Syntax</a></h1>
<p>This section outlines the basics of Salo's syntax.</p>
<h2 id="the-repl"><a class="header" href="#the-repl">The REPL</a></h2>
<p>Before starting, let's get familiar with Salo's REPL. Run <code>salo</code> with no arguments in the command line (once Salo is installed) to open up the prompt:</p>
<pre><code class="language-salo-repl">&gt; Welcome to the Salo REPL!
&gt;
</code></pre>
<p>The REPL supports a few commands:</p>
<ul>
<li><code>:t expr</code>: get the type of <code>expr</code></li>
<li><code>:a expr</code>: get the generated AST of <code>expr</code></li>
<li><code>:q</code>: quit</li>
</ul>
<p>Run <code>:h</code> for more information.</p>
<p>Now that we're familiar with the REPL, we can continue to learning Salo's configuration language. From this point on, every code block that begins with <code>&gt;</code> is run in the REPL.</p>
<h2 id="types"><a class="header" href="#types">Types</a></h2>
<p>Salo has two primitive types: <code>Int</code> and <code>Str</code>. More types are defined in the standard library, such as:</p>
<ul>
<li>Bool</li>
<li>Nat</li>
<li>Array</li>
<li>Derivation</li>
</ul>
<p>Values are created with a type signature and value, as such:</p>
<pre><code class="language-salo">a : String
a = &quot;Hello, world!&quot;
</code></pre>
<p>This is very similar to ML syntax. However, unlike many other ML languages, top-level values are not type inferred - you must explicitly write out the type of the value, whether or not it was possible for the computer to infer it.</p>
<p>Uninitialized values in Salo are invalid and will throw a compiler error. This means that code like this won't work:</p>
<pre><code class="language-salo">b : String;
-- What is b's value?
</code></pre>
<p>But, if you enter Salo in edit mode, <code>b</code> will be valid - or rather, it will be a hole. Holes are uninitialized values that allow you to understand more about the type requirements, without writing an implementation. We'll talk more about holes in [[Holes]].</p>
<p>Of course, Salo is also okay with delegating assignment until later on, as long as that value is not used:</p>
<pre><code class="language-salo">b : String;

-- Other things can happen here, as long as they don't call `b`...

b = &quot;Hello, world!&quot;;
</code></pre>
<h3 id="a-side-note-on-declaring-custom-types"><a class="header" href="#a-side-note-on-declaring-custom-types">A side note on declaring custom types</a></h3>
<p>Salo has so little primitives thanks to its robust system of declaring types. To better understand how these work internally, let's examine how they're put to use in the standard library. Here's the simple declaration for natural numbers:</p>
<pre><code class="language-salo">type Nat = Z | S Nat;
</code></pre>
<p>Here we see that a natural number can either be <code>Z</code> - Zero, or <code>S Nat</code> - a successor to another Nat. For example, =4= is a successor to =3=, which is a successor to =2=, which is a successor to =1=, which is a successor to =0=, which is =Z=. This allows users to construct non-primitive types that are as expressive as the language itself.</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<p>Functions are defined in a slightly similar syntax:</p>
<pre><code class="language-salo-repl">&gt; f : String -&gt; String;
&gt; f x = x;
</code></pre>
<p>If you're unfamiliar with ML syntax, this defines a function that takes a String and returns a String. In the implementation, <code>f</code> takes <code>x</code> and returns <code>x</code> without modifications.</p>
<h3 id="currying"><a class="header" href="#currying">Currying</a></h3>
<p>Salo's functions curry. Take the following code example (note the REPL prompt):</p>
<pre><code class="language-salo-repl">&gt; :t f
f : String -&gt; String

&gt; g : String -&gt; String -&gt; String
&gt; g x y = x + y

&gt; :t g
g : String -&gt; String -&gt; String

&gt; :t g &quot;Hello, &quot;
g &quot;Hello, &quot; : String -&gt; String
</code></pre>
<p>In the beginning, we check the type of =f= (defined above), and see that it's a =String -&gt; String=: straightforward enough. Next, we declare =g= to have a type of =String -&gt; String -&gt; String=, implementing it to take two strings and produces their concatenation. We know that the type of =g= is =String -&gt; String -&gt; String=, but what's cool is that the type of =g &quot;Hello, &quot;= is a =String -&gt; String=!</p>
<h3 id="pattern-matching"><a class="header" href="#pattern-matching">Pattern matching</a></h3>
<p>Salo supports pattern matching, e.g.:</p>
<pre><code class="language-salo">name : Bool -&gt; String
name True = &quot;Bob&quot;
name False = &quot;Jeffrey&quot;
</code></pre>
<p>In this case, if the Bool given to <code>name</code> is true, it will evaluate to &quot;Bob&quot;. If it is given false, then it will evaluate to &quot;Jeffrey&quot;.</p>
<p>Salo pattern matches /must/ be exhaustive. This means that the following won't work:</p>
<pre><code class="language-salo">isOne : Int -&gt; Bool
isOne 1 = True
</code></pre>
<p>Salo will complain /during compile time/ that this match does not cover every variant. What if we pass on 5, 6, or 7? Salo has no idea what to evaluate to. This, however, will work:</p>
<pre><code class="language-salo">isOne : Int -&gt; Bool
isOne 1 = True
isOne _ = False
</code></pre>
<p>With the <code>_</code> character, Salo can match every other variant.</p>
<h3 id="polymorphic-arguments"><a class="header" href="#polymorphic-arguments">Polymorphic arguments</a></h3>
<p>Functions don't have to have strict types - with polymorphism, we're able to allow any type to pass into our program, as long as the function definition is &quot;generic&quot; enough:</p>
<pre><code class="language-salo">genericAdder : a -&gt; a -&gt; a
genericAdder x y = x + y
</code></pre>
<p>This means that all of the following function calls are valid:</p>
<pre><code class="language-salo">genericAdder 1 1         --&gt; 2
genericAdder &quot;Foo&quot; &quot;Baz&quot; --&gt; &quot;FooBaz&quot;
</code></pre>
<h2 id="imports"><a class="header" href="#imports">Imports</a></h2>
<p>Salo is also able to import other files using the <code>import</code> keyword. Imports can either bring a library file or a local file into scope. For example:</p>
<pre><code>import Prelude
</code></pre>
<p>Will evaluate and bring everything in the <code>prelude</code> module of the standard library into scope. This line is actually automatically inserted into the beginning of every Salo file.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>That's it! We just outlined Salo's basic syntax, styling, and imports. However, there's a lot more documentation out there - just take a look!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../crash-course/install.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../crash-course/install.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
